RSpec.describe CKB::Types::CellData do
  let(:cell_data_h) do
    {
      "content": "0x7f454c460201010000000000000000000200f3000100000078000100000000004000000000000000980000000000000005000000400038000100400003000200010000000500000000000000000000000000010000000000000001000000000082000000000000008200000000000000001000000000000001459308d00573000000002e7368737472746162002e74657874000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b000000010000000600000000000000780001000000000078000000000000000a0000000000000000000000000000000200000000000000000000000000000001000000030000000000000000000000000000000000000082000000000000001100000000000000000000000000000001000000000000000000000000000000",
      "hash": "0x28e83a1277d48add8e72fadaa9248559e1b632bab2bd60b27955ebc4c03800a5"
    }
  end

  let(:cell_data) { CKB::Types::CellData.from_h(cell_data_h) }

  it "from_h" do
    expect(cell_data).to be_a(CKB::Types::CellData)
    cell_data_h.keys.each do |key|
      expect(cell_data.public_send(key)).to eq cell_data_h[key]
    end
  end

  it "to_h" do
    expect(
      cell_data.to_h
    ).to eq cell_data_h
  end
end
